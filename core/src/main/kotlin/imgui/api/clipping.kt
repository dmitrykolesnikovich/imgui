package imgui.api

import glm_.vec2.Vec2
import imgui.ImGui.currentWindow

/** Clipping */
interface clipping {

    /** When using this function it is sane to ensure that float are perfectly rounded to integer values, to that e.g.
    (int)(max.x-min.x) in user's render produce correct result. */
    fun pushClipRect(clipRectMin: Vec2, clipRectMax: Vec2, intersectWithCurrentClipRect: Boolean) {
        currentWindow.apply {
            drawList.pushClipRect(clipRectMin, clipRectMax, intersectWithCurrentClipRect)
            clipRect put drawList._clipRectStack.last()
        }
    }

    fun popClipRect() {
        with(currentWindow) {
            drawList.popClipRect()
            clipRect put drawList._clipRectStack.last()
        }
    }
}